<%-include("./components/head")%>
<body>
    <%-include("./components/navbar")%>
    <div style="width: 80%; margin: 0 auto;">

        <div style="margin: 1em 0 1em 0 auto;">
            <a style="float: left;" href="/addItem">
                <button class="btn btn-success" style="margin: 1em 0 1em auto; border-radius: 1em; background-color: #589636;">+ add item</button>
            </a>

        </div>
        
        <div style="border-radius: 1em 1em 1em 1em;">
            <table class="table table-striped table-hover">
                <thead class="green ">
                    <tr>
                        <th scope="col" style="border-radius: 1em 0px 0px 0px;">#</th>
                        <th scope="col">Item Name</th>
                        <th scope="col">Price</th>
                        <th scope="col">Date Added/Updated</th>
                        <th scope="col" style="border-radius: 0px 1em 0px 0px;"></th>
                    </tr>
                </thead>
                <tbody style="background-color: white">
                    <% let ctr = 1; %>
                    <% for(item of items){ %>
                        <% if(ctr-1 == items.length - 1){ %>
                            <tr>
                                <th style="border-radius: 0px 0px 0px 1em; border-bottom: 0px;" scope="row"><%= ctr++ %></th>
                                <td style="border-bottom: 0px;"><a href="/items/<%=item._id%>"><%= item.itemName %></a></td>
                                <td style="border-bottom: 0px;">Php <%= item.itemPrice %></td>
                                <td style="border-bottom: 0px;"><%= item.dateAdded %></td>
                                <td style="border-radius: 0px 0px 1em 0px; border-bottom: 0px;">
                                    <form style="display: inline;" action="/list/<%=item._id%>/edit" method="GET">
                                        <button class="btn btn-outline-primary" style=" border-radius: 1em;">edit</button>
                                    </form>
                                    <form style="display: inline;" action="/list/<%=item._id%>/?_method=DELETE" method="POST" onsubmit="return confirm('Are you sure you want to delete?');">
                                        <button class="btn btn-outline-danger" style=" border-radius: 1em;">delete</button>
                                    </form>
                                </td>  
                            </tr>
                        <% }else{ %>
                            <tr>
                                <th scpoe="row"><%= ctr++ %></th>
                                <td><a href="/items/<%=item._id%>"><%= item.itemName %></a></td>
                                <td>Php <%= item.itemPrice %></td>
                                <td><%= item.dateAdded %></td>
                                <td>
                                    <form style="display: inline;" action="/list/<%=item._id%>/edit" method="GET">
                                        <button class="btn btn-outline-primary" style=" border-radius: 1em;">edit</button>
                                    </form>
                                    <form style="display: inline;" action="/list/<%=item._id%>/?_method=DELETE" method="POST" onsubmit="return confirm('Are you sure you want to delete?');">
                                        <button class="btn btn-outline-danger" style=" border-radius: 1em;">delete</button>
                                    </form>
                                </td>
                            </tr>
                        <% } %>
                    <% } %>
                </tbody>
            </table>
        </div>
        
    </div>
    
</body>
</html>